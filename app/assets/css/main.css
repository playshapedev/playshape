@import "tailwindcss";
@import "@nuxt/ui";

/*
 * ── Brand Color Palettes ──────────────────────────────────────────────────────
 * Primary: dark purple #2E3086
 * Generated 11-shade scale (50–950) around the brand primary.
 *
 * Neutral: deep indigo-tinted neutral for surfaces/text.
 * Using a custom scale that tints neutral grays with the brand purple.
 */
@theme static {
  /* Primary — deep indigo/purple brand color */
  --color-playshape-50: #eef0ff;
  --color-playshape-100: #e0e2ff;
  --color-playshape-200: #c7c9ff;
  --color-playshape-300: #a5a5ff;
  --color-playshape-400: #8a7dfc;
  --color-playshape-500: #7458f5;
  --color-playshape-600: #5f38e8;
  --color-playshape-700: #4e29cc;
  --color-playshape-800: #3e24a4;
  --color-playshape-900: #2e3086;
  --color-playshape-950: #1c1a5e;

  /* Brand Yellow — anchor #FFCA00 */
  --color-brand-yellow-50: #fffbeb;
  --color-brand-yellow-100: #fff3c6;
  --color-brand-yellow-200: #ffe688;
  --color-brand-yellow-300: #ffd54a;
  --color-brand-yellow-400: #ffca00;
  --color-brand-yellow-500: #f0b400;
  --color-brand-yellow-600: #cc8d00;
  --color-brand-yellow-700: #a16602;
  --color-brand-yellow-800: #854f0a;
  --color-brand-yellow-900: #71410d;
  --color-brand-yellow-950: #422102;

  /* Brand Green — anchor #90D20E */
  --color-brand-green-50: #f5fee7;
  --color-brand-green-100: #e8fdcb;
  --color-brand-green-200: #d2fa9d;
  --color-brand-green-300: #b3f264;
  --color-brand-green-400: #96e534;
  --color-brand-green-500: #90d20e;
  --color-brand-green-600: #5ca806;
  --color-brand-green-700: #467f09;
  --color-brand-green-800: #39640e;
  --color-brand-green-900: #315510;
  --color-brand-green-950: #172f03;

  /* Brand Blue — anchor #24ACFF */
  --color-brand-blue-50: #eff8ff;
  --color-brand-blue-100: #dbeffe;
  --color-brand-blue-200: #bfe4fe;
  --color-brand-blue-300: #93d4fd;
  --color-brand-blue-400: #24acff;
  --color-brand-blue-500: #1a93e6;
  --color-brand-blue-600: #0d74c4;
  --color-brand-blue-700: #0e5d9f;
  --color-brand-blue-800: #124f83;
  --color-brand-blue-900: #14436d;
  --color-brand-blue-950: #0d2b48;

  /* Brand Pink — anchor #FF467C */
  --color-brand-pink-50: #fff1f3;
  --color-brand-pink-100: #ffe0e6;
  --color-brand-pink-200: #ffc6d3;
  --color-brand-pink-300: #ff9db2;
  --color-brand-pink-400: #ff6d8c;
  --color-brand-pink-500: #ff467c;
  --color-brand-pink-600: #ed1153;
  --color-brand-pink-700: #c80a44;
  --color-brand-pink-800: #a80c3e;
  --color-brand-pink-900: #8f0e3a;
  --color-brand-pink-950: #50021a;

  /* Brand Orange — anchor #FBA304 */
  --color-brand-orange-50: #fffaeb;
  --color-brand-orange-100: #fff0c6;
  --color-brand-orange-200: #ffde88;
  --color-brand-orange-300: #ffc84a;
  --color-brand-orange-400: #fbb520;
  --color-brand-orange-500: #fba304;
  --color-brand-orange-600: #df7a02;
  --color-brand-orange-700: #b95506;
  --color-brand-orange-800: #96420c;
  --color-brand-orange-900: #7b370d;
  --color-brand-orange-950: #471b02;

  /* Brand Violet — anchor #9F46EB */
  --color-brand-violet-50: #f5f1ff;
  --color-brand-violet-100: #ede5ff;
  --color-brand-violet-200: #ddcfff;
  --color-brand-violet-300: #c5a8ff;
  --color-brand-violet-400: #ab76ff;
  --color-brand-violet-500: #9f46eb;
  --color-brand-violet-600: #8425d5;
  --color-brand-violet-700: #7019b3;
  --color-brand-violet-800: #5f1893;
  --color-brand-violet-900: #4f1578;
  --color-brand-violet-950: #320a52;

  /* Brand Red — anchor #FF0045 */
  --color-brand-red-50: #fff0f1;
  --color-brand-red-100: #ffdde1;
  --color-brand-red-200: #ffc1c9;
  --color-brand-red-300: #ff94a3;
  --color-brand-red-400: #ff566e;
  --color-brand-red-500: #ff0045;
  --color-brand-red-600: #e20033;
  --color-brand-red-700: #bf002c;
  --color-brand-red-800: #9d0329;
  --color-brand-red-900: #830828;
  --color-brand-red-950: #480010;
}

/*
 * ── Font ──────────────────────────────────────────────────────────────────────
 * Poppins — loaded automatically by @nuxt/fonts when referenced in @theme.
 */
@theme {
  --font-sans: 'Poppins', system-ui, sans-serif;
}

/*
 * ── CSS Variable Overrides ────────────────────────────────────────────────────
 */
:root {
  --ui-radius: 0.325rem;
}

/*
 * ── Dark Mode Background ──────────────────────────────────────────────────────
 * Override the default dark bg to the brand dark purple.
 */
.dark {
  --ui-bg-default: var(--color-playshape-900);
  --ui-bg-muted: var(--color-playshape-950);
  --ui-bg-elevated: color-mix(in oklch, var(--color-playshape-900) 85%, white);
}

/*
 * ── Heading Typography ────────────────────────────────────────────────────────
 * Mapped from the brand hierarchy:
 *   H1: Black (900)  — largest
 *   H2: Extra Bold (800)
 *   H3: Bold (700)
 *   H4: Semi Bold (600)
 *   Body: Regular (400)
 */
h1 {
  font-weight: 900;
  letter-spacing: 0;
}
h2 {
  font-weight: 800;
  letter-spacing: 0;
}
h3 {
  font-weight: 700;
  letter-spacing: 0;
}
h4 {
  font-weight: 600;
  letter-spacing: 0;
}

/*
 * ── Interactive Elements ──────────────────────────────────────────────────────
 */
button,
[role="button"],
a[href],
summary {
  cursor: pointer;
}

/*
 * ── Electron Title Bar ────────────────────────────────────────────────────────
 * A fixed drag region at the very top of the Electron window allows the user
 * to drag-move the window. All app content is pushed down by the titlebar
 * height so nothing is hidden behind it.
 *
 * --ui-titlebar-height: height of the drag region (matches typical OS title bars).
 * macOS hiddenInset: 38px (aligns with traffic light center ~22px from top).
 * Windows titleBarOverlay: matches the overlay height (40px).
 *
 * NOTE: -webkit-app-region (drag/no-drag) is injected via a runtime <style> tag
 * in app.vue because Tailwind v4 / Lightning CSS strips it as an unknown vendor
 * prefix during CSS compilation. The .electron-drag and .electron-no-drag classes
 * are defined there, not here.
 */
:root {
  --ui-titlebar-height: 38px;
}
html.electron-win {
  --ui-titlebar-height: 40px;
}

html.electron .dashboard-root {
  top: var(--ui-titlebar-height);
}

/*
 * ── Sidebar Overlay Mode ──────────────────────────────────────────────────────
 * When the sidebar is unpinned, it becomes a fixed overlay that slides in from
 * the left on hover. The hover trigger zone is an invisible strip at the left
 * edge of the viewport.
 */

/* Invisible hover trigger at left edge */
.sidebar-trigger {
  position: fixed;
  top: 0;
  left: 0;
  width: 12px;
  height: 100%;
  z-index: 50;
}

/* Electron: offset trigger below titlebar so it doesn't overlap traffic lights */
html.electron .sidebar-trigger {
  top: var(--ui-titlebar-height);
}

/* Sidebar in overlay mode: fixed position, off-screen by default */
.sidebar-overlay {
  position: fixed !important;
  display: flex !important;
  top: 0;
  left: 0;
  bottom: 0;
  z-index: 10000;
  min-width: 200px;
  width: 224px !important;
  background-color: var(--ui-bg);
  transform: translateX(-100%);
  transition: transform 200ms ease-out, box-shadow 200ms ease-out;
  box-shadow: none;
}

/*
 * Electron: The overlay sidebar extends to top: 0 so the mouse doesn't leave
 * the sidebar bounds when moving into the drag bar above it. z-index 10000
 * puts it above the drag bar (z-[9999]) so the header button is clickable.
 * Padding pushes sidebar content below the drag bar.
 */
html.electron .sidebar-overlay {
  padding-top: var(--ui-titlebar-height);
}

/* Overlay sidebar revealed on hover */
.sidebar-overlay-visible {
  transform: translateX(0) !important;
  box-shadow: var(--shadow-xl);
}

/*
 * ── Chat Prose ────────────────────────────────────────────────────────────────
 * Compact typography for MDC-rendered markdown inside chat message bubbles.
 * Scoped to .chat-prose so it doesn't affect prose elsewhere in the app.
 */
.chat-prose { line-height: 1.5; }

.chat-prose h1,
.chat-prose h2,
.chat-prose h3,
.chat-prose h4 { color: var(--color-playshape-700); }
.dark .chat-prose h1,
.dark .chat-prose h2,
.dark .chat-prose h3,
.dark .chat-prose h4 { color: var(--color-playshape-300); }

.chat-prose h1 { font-size: 1.1em; margin: 0.5em 0 0.25em; }
.chat-prose h2 { font-size: 1em; margin: 0.5em 0 0.25em; }
.chat-prose h3 { font-size: 0.95em; margin: 0.4em 0 0.2em; }
.chat-prose h4 { font-size: 0.9em; margin: 0.4em 0 0.2em; }

.chat-prose p { margin: 0.3em 0; }

.chat-prose ul,
.chat-prose ol { margin: 0.25em 0; padding-left: 1.25em; }
.chat-prose li { margin: 0.1em 0; }
.chat-prose ul { list-style-type: disc; }
.chat-prose ol { list-style-type: decimal; }

.chat-prose pre { margin: 0.4em 0; padding: 0.5em 0.75em; border-radius: 0.325rem; overflow-x: auto; font-size: 0.85em; background: var(--ui-bg-accented); }
.chat-prose code:not(pre code) { font-size: 0.85em; padding: 0.1em 0.3em; border-radius: 0.2rem; background: var(--ui-bg-accented); }

.chat-prose blockquote { margin: 0.4em 0; padding-left: 0.75em; border-left: 2px solid var(--ui-border-accented); color: var(--ui-text-muted); }

.chat-prose hr { margin: 0.5em 0; border-color: var(--ui-border); }

.chat-prose a { color: var(--ui-primary); text-decoration: underline; }
