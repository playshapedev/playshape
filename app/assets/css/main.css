@import "tailwindcss";
@import "@nuxt/ui";

/*
 * ── Brand Color Palettes ──────────────────────────────────────────────────────
 * Primary: dark purple #2E3086
 * Generated 11-shade scale (50–950) around the brand primary.
 *
 * Neutral: deep indigo-tinted neutral for surfaces/text.
 * Using a custom scale that tints neutral grays with the brand purple.
 */
@theme static {
  /* Primary — deep indigo/purple brand color */
  --color-playshape-50: #eef0ff;
  --color-playshape-100: #e0e2ff;
  --color-playshape-200: #c7c9ff;
  --color-playshape-300: #a5a5ff;
  --color-playshape-400: #8a7dfc;
  --color-playshape-500: #7458f5;
  --color-playshape-600: #5f38e8;
  --color-playshape-700: #4e29cc;
  --color-playshape-800: #3e24a4;
  --color-playshape-900: #2e3086;
  --color-playshape-950: #1c1a5e;

  /* Brand accent colors — available as utilities (e.g. text-brand-yellow) */
  --color-brand-yellow: #FFCA00;
  --color-brand-green: #90D20E;
  --color-brand-blue: #24ACFF;
  --color-brand-pink: #FF467C;
  --color-brand-orange: #FBA304;
  --color-brand-violet: #9F46EB;
  --color-brand-red: #FF0045;
}

/*
 * ── Font ──────────────────────────────────────────────────────────────────────
 * Poppins — loaded automatically by @nuxt/fonts when referenced in @theme.
 */
@theme {
  --font-sans: 'Poppins', system-ui, sans-serif;
}

/*
 * ── CSS Variable Overrides ────────────────────────────────────────────────────
 */
:root {
  --ui-radius: 0.325rem;
}

/*
 * ── Dark Mode Background ──────────────────────────────────────────────────────
 * Override the default dark bg to the brand dark purple.
 */
.dark {
  --ui-bg-default: var(--color-playshape-900);
  --ui-bg-muted: var(--color-playshape-950);
  --ui-bg-elevated: color-mix(in oklch, var(--color-playshape-900) 85%, white);
}

/*
 * ── Heading Typography ────────────────────────────────────────────────────────
 * Mapped from the brand hierarchy:
 *   H1: Black (900)  — largest
 *   H2: Extra Bold (800)
 *   H3: Bold (700)
 *   H4: Semi Bold (600)
 *   Body: Regular (400)
 */
h1 {
  font-weight: 900;
  letter-spacing: 0;
}
h2 {
  font-weight: 800;
  letter-spacing: 0;
}
h3 {
  font-weight: 700;
  letter-spacing: 0;
}
h4 {
  font-weight: 600;
  letter-spacing: 0;
}

/*
 * ── Interactive Elements ──────────────────────────────────────────────────────
 */
button,
[role="button"],
a[href],
summary {
  cursor: pointer;
}

/*
 * ── Electron Title Bar ────────────────────────────────────────────────────────
 * A fixed drag region at the very top of the Electron window allows the user
 * to drag-move the window. All app content is pushed down by the titlebar
 * height so nothing is hidden behind it.
 *
 * --ui-titlebar-height: height of the drag region (matches typical OS title bars).
 * macOS hiddenInset: 38px (aligns with traffic light center ~22px from top).
 * Windows titleBarOverlay: matches the overlay height (40px).
 *
 * NOTE: -webkit-app-region (drag/no-drag) is injected via a runtime <style> tag
 * in app.vue because Tailwind v4 / Lightning CSS strips it as an unknown vendor
 * prefix during CSS compilation. The .electron-drag and .electron-no-drag classes
 * are defined there, not here.
 */
:root {
  --ui-titlebar-height: 38px;
}
html.electron-win {
  --ui-titlebar-height: 40px;
}

html.electron .dashboard-root {
  top: var(--ui-titlebar-height);
}

/*
 * ── Sidebar Overlay Mode ──────────────────────────────────────────────────────
 * When the sidebar is unpinned, it becomes a fixed overlay that slides in from
 * the left on hover. The hover trigger zone is an invisible strip at the left
 * edge of the viewport.
 */

/* Invisible hover trigger at left edge */
.sidebar-trigger {
  position: fixed;
  top: 0;
  left: 0;
  width: 12px;
  height: 100%;
  z-index: 50;
}

/* Electron: offset trigger below titlebar so it doesn't overlap traffic lights */
html.electron .sidebar-trigger {
  top: var(--ui-titlebar-height);
}

/* Sidebar in overlay mode: fixed position, off-screen by default */
.sidebar-overlay {
  position: fixed !important;
  display: flex !important;
  top: 0;
  left: 0;
  bottom: 0;
  z-index: 10000;
  min-width: 200px;
  width: 224px !important;
  background-color: var(--ui-bg);
  transform: translateX(-100%);
  transition: transform 200ms ease-out, box-shadow 200ms ease-out;
  box-shadow: none;
}

/*
 * Electron: The overlay sidebar extends to top: 0 so the mouse doesn't leave
 * the sidebar bounds when moving into the drag bar above it. z-index 10000
 * puts it above the drag bar (z-[9999]) so the header button is clickable.
 * Padding pushes sidebar content below the drag bar.
 */
html.electron .sidebar-overlay {
  padding-top: var(--ui-titlebar-height);
}

/* Overlay sidebar revealed on hover */
.sidebar-overlay-visible {
  transform: translateX(0) !important;
  box-shadow: var(--shadow-xl);
}
